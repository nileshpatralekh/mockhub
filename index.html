<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock hub</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

    <div id="setup-screen" class="setup-container">
        <div class="setup-box">
            <h2><i class="fas fa-laptop-code"></i> Exam Setup</h2>
            <div class="input-group">
                <label>1. Question Paper (PDF):</label>
                <input type="file" id="pdf-question" accept="application/pdf">
            </div>
            <div class="input-group">
                <label>2. Answer Key (Excel) <small>(Optional)</small>:</label>
                <input type="file" id="excel-upload" accept=".xlsx, .xls, .csv">
            </div>
            <div class="input-group">
                <label>3. Total Questions:</label>
                <input type="number" id="total-qs" value="65">
            </div>
            <div class="input-group">
                <label>4. Time (Minutes):</label>
                <input type="number" id="exam-duration" value="180">
            </div>
            <button class="start-btn" onclick="startTest()">Start Exam</button>
        </div>
    </div>

    <div id="test-screen" class="main-container hidden">

        <div class="top-header">
            <span>Assessment Examination Center</span>
            <div class="header-controls">
                <span class="timer-section">Time Left: <span id="timer">180:00</span></span>
                <button class="calc-btn header-btn" onclick="toggleCalculator()">Scientific Calculator</button>
            </div>
        </div>

        <div class="workspace">

            <div class="left-pane">
                <div class="pdf-wrapper">
                    <iframe id="pdf-viewer" src=""></iframe>
                </div>

                <div class="question-control-area">
                    <div class="question-header-strip">
                        <span>Question No. <span id="current-q-num">1</span></span>
                        <span class="marks-info">Marks for correct answer: 1 | Negative Marks: 0</span>
                    </div>

                    <div class="options-container">
                        <span class="opt-label">Select Option:</span>
                        <label class="opt-radio"><input type="radio" name="option" value="A"> <span>A</span></label>
                        <label class="opt-radio"><input type="radio" name="option" value="B"> <span>B</span></label>
                        <label class="opt-radio"><input type="radio" name="option" value="C"> <span>C</span></label>
                        <label class="opt-radio"><input type="radio" name="option" value="D"> <span>D</span></label>
                    </div>

                    <div class="action-buttons">
                        <div class="left-actions">
                            <button class="btn btn-review" onclick="markForReview()">Mark for Review & Next</button>
                            <button class="btn btn-clear" onclick="clearResponse()">Clear Response</button>
                        </div>
                        <button class="btn btn-save" onclick="saveAndNext()">Save & Next</button>
                    </div>
                </div>
            </div>

            <div class="right-pane">

                <div class="profile-section">
                    <img src="https://www.w3schools.com/howto/img_avatar.png" class="avatar" alt="User">
                    <div class="user-name">Candidate Name</div>
                </div>

                <div class="legend-grid">
                    <div class="legend-item"><span class="badge answered">0</span> Answered</div>
                    <div class="legend-item"><span class="badge not-answered">0</span> Not Answered</div>
                    <div class="legend-item"><span class="badge not-visited">0</span> Not Visited</div>
                    <div class="legend-item"><span class="badge marked">0</span> Marked for Review</div>
                    <div class="legend-item full-width"><span class="badge marked-ans">0</span> Answered & Marked for
                        Review (will be considered for evaluation)</div>
                </div>

                <div class="sidebar-section-header">
                    Question Palette
                </div>

                <div class="palette-wrapper">
                    <div class="palette-label">Choose a Question</div>
                    <div id="question-grid" class="grid-container">
                    </div>
                </div>

                <div class="submit-area">
                    <button class="btn-submit" onclick="submitTest()">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <div id="review-screen" class="main-container hidden">
        <div class="top-header">
            <span>Test Analysis & Review</span>
        </div>

        <div class="review-container">
            <div class="review-summary">
                <h3>Performance Summary</h3>
                <div class="summary-grid">
                    <div class="stat-box">
                        <span class="stat-label">Total Questions</span>
                        <span id="review-total" class="stat-val">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Attempted</span>
                        <span id="review-attempted" class="stat-val">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Correct</span>
                        <span id="review-correct" class="stat-val">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Wrong</span>
                        <span id="review-wrong" class="stat-val">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">Score</span>
                        <span id="review-score" class="stat-val">0</span>
                    </div>
                </div>
                <div class="restart-area">
                    <button class="btn btn-save" onclick="location.reload()">Back to Home / Restart</button>
                    <!-- Future: Export PDF? -->
                </div>
            </div>

            <div class="review-details">
                <h3>Detailed Question Analysis</h3>
                <div class="table-responsive">
                    <table class="review-table">
                        <thead>
                            <tr>
                                <th>Q.No</th>
                                <th>Your Answer</th>
                                <th>Correct Answer</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="review-table-body">
                            <!-- Rows generated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Draggable Calculator -->
    <div id="calculator" class="calculator hidden">
        <div id="calc-header" class="calc-header">
            <span>Scientific Calculator</span>
            <span class="close-calc" onclick="toggleCalculator()">X</span>
        </div>
        <div class="calc-body">
            <div id="keyPad" class="ui-widget-content calc_container">
                <!-- Two Displays -->
                <input type="text" id="keyPad_UserInput1" class="keyPad_TextBox1" readonly>
                <input type="text" id="keyPad_UserInput" class="keyPad_TextBox" maxlength="30" readonly>

                <div class="calc-keys-tcs">
                    <!-- Row 1 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('deg')">Deg</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('rad')">Rad</button>
                        <button class="keyPad_btnMemoryOp" onclick="calcOp('MC')">MC</button>
                        <button class="keyPad_btnMemoryOp" onclick="calcOp('MR')">MR</button>
                        <button class="keyPad_btnMemoryOp" onclick="calcOp('MS')">MS</button>
                        <button class="keyPad_btnMemoryOp" onclick="calcOp('M+')">M+</button>
                        <button class="keyPad_btnMemoryOp" onclick="calcOp('M-')">M-</button>
                    </div>
                    <!-- Row 2 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('sin')">sin</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('cos')">cos</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('tan')">tan</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('log')">log</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('ln')">ln</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('inv')">1/x</button>
                        <button class="keyPad_btnCommand" onclick="calcOp('C')">C</button>
                    </div>
                    <!-- Row 3 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('asin')">sin⁻¹</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('acos')">cos⁻¹</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('atan')">tan⁻¹</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('exp')">e</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('pow10')">10ˣ</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('mod')">mod</button>
                        <button class="keyPad_btnCommand" onclick="calcOp('AC')">AC</button>
                    </div>
                    <!-- Row 4 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('sinh')">sinh</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('cosh')">cosh</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('tanh')">tanh</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('pi')">π</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('fact')">n!</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('(')">(</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp(')')">)</button>
                    </div>

                    <!-- Row 5 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnNumeric" onclick="calcInput('7')">7</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('8')">8</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('9')">9</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('/')">/</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('sqrt')">√</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('cbrt')">∛</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('pow')">yˣ</button>
                    </div>

                    <!-- Row 6 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnNumeric" onclick="calcInput('4')">4</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('5')">5</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('6')">6</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('*')">*</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('sqr')">x²</button>
                        <button class="keyPad_btnUnaryOp" onclick="calcOp('cube')">x³</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('root')">ˣ√y</button>

                    </div>

                    <!-- Row 7 -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnNumeric" onclick="calcInput('1')">1</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('2')">2</button>
                        <button class="keyPad_btnNumeric" onclick="calcInput('3')">3</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('-')">-</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcInput('.')">.</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('plusminus')">±</button>
                        <button class="keyPad_btnCommand" onclick="calcOp('backspace')">←</button>

                    </div>

                    <!-- Row 8 (Zero spans two? No, looks uniform in TCS usually, but 0 often wide. Let's make it standard grid) -->
                    <div class="key-row-tcs">
                        <button class="keyPad_btnNumeric" onclick="calcInput('0')" style="width: 74px;">0</button>
                        <button class="keyPad_btnBinaryOp" onclick="calcOp('+')">+</button>
                        <button class="keyPad_btnCommand" id="keyPad_btnEnter" onclick="calcResult()"
                            style="width: 74px;">=</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>